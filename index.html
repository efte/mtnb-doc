<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MTNB - MeiTuan Native Bridge</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="javascripts/contrib/jquery-2.1.4.min.js" type="text/javascript"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://code.dianpingoa.com/ed-f2e/mtnb' target="about:_blank;">项目地址</a></li>
            <li><a href='http://code.dianpingoa.com/ed-f2e/mtnb_h5_demo'>mtnb h5 demo</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="概述">概述</h1>

<p>MTNB(meituan native bridge)，是用来在混合应用开发中打通客户端应用（美团app，开店宝，猫眼等）与网页应用信道的桥梁。MTNB也作为美团移动桥协议在webapp中的命名空间存在。
<a href="http://wiki.sankuai.com/display/DEVPUB/Meituan+Native+Bridge">详细文档</a></p>

<p><img alt="MTNB接入" src="images/MTNB接入.png" /></p>

<ul>
<li>mtnb-core由美团的npm模块提供，业务方不需要关心。</li>
<li>mtnb和mtnb-merchant依赖于mtnb-core，并封装了BA认证过程，业务方不需要关心，直接调用即可。</li>
<li>mtnb-merchant扩展了两部分功能，native支持的和js mock的接口。</li>
<li>@dp/util-mtshop-ui-less提供了基础样式组件以及mtnb-merchant js相关UI接口的样式。</li>
</ul>

<h1 id="引入">引入</h1>

<p>使用MTNB需要通过BA认证，因此需要访问后端接口拿到authInfo，前端使用authInfo鉴权，通过鉴权才可以使用jsbridge提供的功能。</p>

<p>以上BA认证过程已经在mtnb以及mtnb-merchant中包装好，直接调用即可。</p>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">MTNB</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'mtnb'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">MTNB</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'mtnb-merchant'</span><span class="p">);</span>
</code></pre>

<p><a href="http://code.dianpingoa.com/ed-f2e/mtnb">mtnb</a>及<a href="http://code.dianpingoa.com/ed-f2e/mtnb-merchant">开店宝mtnb</a>目前仅支持通过Cortex方式引入。</p>

<p>点评侧对mtnb-merchant做了二次封装，提供了UI及storage的一些功能。</p>

<h1 id="初始化">初始化</h1>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 业务代码</span>
    <span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(...);</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">MTNB中所有和native相关的接口都需要在鉴权成功(MTNB.ready)后使用。</aside>

<h1 id="基础模块-定位">基础模块-定位</h1>

<h2 id="定位接口">定位接口</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'geo.getLocation'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">10000</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">longitude</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<h3 id="输入：">输入：</h3>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>timeout</td>
<td>超时时间（毫秒），-1 默认不限制</td>
</tr>
</tbody></table>

<h3 id="输出：">输出：</h3>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>status</td>
<td>返回的状态码， 0：成功，1: 超时， 2：不可用</td>
</tr>
<tr>
<td>string</td>
<td>message</td>
<td>错误信息</td>
</tr>
<tr>
<td>object</td>
<td>data</td>
<td>返回数据：data.latitude为纬度，data.longitude为经度，data.radius为误差（m）</td>
</tr>
</tbody></table>

<h2 id="打开地图">打开地图</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'geo.openMap'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">lat</span><span class="p">:</span> <span class="mf">140.23434</span><span class="p">,</span>
    <span class="na">lng</span><span class="p">:</span> <span class="mf">40.4335</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<aside class="warning">该api只提供接口描述，具体实现因为业务线使用地图sdk不同，要各自完成</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>boolean</td>
<td>[marker]</td>
<td>是否在中心标点，默认false</td>
</tr>
<tr>
<td>boolean</td>
<td>[goto]</td>
<td>是否去哪里，默认false，如果为true，显示用户位置到所在点的路线</td>
</tr>
<tr>
<td>float</td>
<td>lat</td>
<td>纬度</td>
</tr>
<tr>
<td>float</td>
<td>lng</td>
<td>经度</td>
</tr>
<tr>
<td>int</td>
<td>[zoom]</td>
<td>缩放比例, 默认16（街区）</td>
</tr>
</tbody></table>

<h1 id="基础模块-分享">基础模块-分享</h1>

<h2 id="直接调取分享">直接调取分享</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'share.invoke'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
    <span class="na">pic</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'src'</span><span class="p">),</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// res有分享渠道的信息，具体格式需要再确定</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'打开分享'</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<aside class="warning">该api只提供接口描述，具体实现因为业务线使用地图sdk不同，要各自完成</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>url</td>
<td>分享的地址</td>
</tr>
<tr>
<td>string</td>
<td>title</td>
<td>分享标题</td>
</tr>
<tr>
<td>string</td>
<td>pic</td>
<td>分享的图片</td>
</tr>
<tr>
<td>string</td>
<td>[content]</td>
<td>分享的内容</td>
</tr>
</tbody></table>

<h1 id="基础模块-webview">基础模块-webview</h1>

<h2 id="关闭当前webview">关闭当前webview</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.close'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">anime</span><span class="p">:</span> <span class="s2">"slideleft"</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>anime</td>
<td>关闭时执行的动画，如果不传，按照打开的反向动画执行</td>
</tr>
</tbody></table>

<h2 id="打开新的webview">打开新的webview</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.open'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'http://i.meiutan.com/'</span><span class="p">,</span>
    <span class="na">anime</span><span class="p">:</span> <span class="s2">"slideleft"</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.ready中使用</aside>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>url</td>
<td>打开的地址</td>
</tr>
<tr>
<td>string</td>
<td>anime</td>
<td>动画类型：swipeLeft, swipeRight 左右切换；fadeIn, fadeOut 淡入淡出</td>
</tr>
</tbody></table>

<h2 id="设置webview标题">设置webview标题</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setTitle'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">"一个很长很长的标题"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 标题被点击后的操作...</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.ready中使用</aside>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>function</td>
<td>callback</td>
<td>监听标题点击的回调</td>
</tr>
<tr>
<td>string</td>
<td>title</td>
<td>标题名称</td>
</tr>
</tbody></table>

<h2 id="设置复杂的webview标题">设置复杂的webview标题</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setHtmlTitle'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">"&lt;font size="</span><span class="mi">4</span><span class="s2">" face="</span><span class="nx">arial</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt;演唱会 &lt;/font&gt;&lt;font size="</span><span class="mi">2</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt; 北京&lt;/font&gt;&lt;font size="</span><span class="mi">1</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt;▼&lt;/font&gt;"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 标题被点击后的操作...</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.ready中使用</aside>

<aside class="warning">不支持换行</aside>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>title</td>
<td>标题名称，使用font来实现</td>
</tr>
<tr>
<td>function</td>
<td>callback</td>
<td>监听标题点击的回调</td>
</tr>
</tbody></table>

<h2 id="设置角标">设置角标</h2>
<pre class="highlight javascript"><code><span class="c1">// 分享</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"share"</span><span class="p">,</span>
    <span class="na">channel</span><span class="p">:</span> <span class="mi">385</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
    <span class="na">pic</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'src'</span><span class="p">),</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 分享完成后的回调</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="c1">// 链接</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="na">text</span><span class="p">:</span> <span class="s2">"退款帮助"</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"i.meituan.com/help/refund"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 点击分享的回调</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="c1">// 回调</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="na">text</span><span class="p">:</span> <span class="s2">"设置提醒"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 点击提醒的回调</span>
    <span class="p">},</span>
<span class="p">});</span>
<span class="c1">// 设置多个icon</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">"设置提醒"</span><span class="p">,</span>
        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// 交互</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">"收藏"</span><span class="p">,</span>
        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// 交互</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre>

<aside class="warning">在MTNB.ready中使用</aside>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>object</td>
<td>data</td>
<td>附加数据，其中的callback为事件触发后的回调，参数是{}</td>
</tr>
<tr>
<td>string</td>
<td>type</td>
<td>icon类型，“text”文字，“share”分享</td>
</tr>
</tbody></table>

<h2 id="订制左上角按钮">订制左上角按钮</h2>
<pre class="highlight javascript"><code>    <span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">search</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">pare</span> <span class="o">=</span> <span class="nx">search</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'='</span><span class="p">);</span>
            <span class="nx">params</span><span class="p">[</span><span class="nx">pare</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">pare</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">params</span><span class="p">.</span><span class="nx">reloaded</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">params</span><span class="p">.</span><span class="nx">reloaded</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">queryArray</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">queryArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">k</span> <span class="o">+</span> <span class="s1">'='</span> <span class="o">+</span> <span class="nx">params</span><span class="p">[</span><span class="nx">k</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">+</span> <span class="s1">'//'</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">host</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="s1">'?'</span> <span class="o">+</span> <span class="nx">queryArray</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>

<p>开店宝左上角按钮，请参考<a href="http://wiki.sankuai.com/pages/viewpage.action?pageId=372249318">此文档</a></p>

<p>因为android没有完全实现webview相关的接口，尤其是webview.open，所以推荐使用location.href的方式进行页面跳转。</p>

<p>开店宝webview有一个已知的bug是：webview打开页面A跳转页面B，再点返回直接关闭webview，针对此问题的解决方法是，页面加载完自动进行一次页面跳转，示例代码见右侧：</p>

<h1 id="基础模块-支付">基础模块-支付</h1>

<aside class="warning">没有做在1期</aside>

<h2 id="收银台">收银台</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'pay.go'</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span><span class="mi">23234244</span><span class="p">,</span>
    <span class="s2">"tradeNumber"</span><span class="p">:</span><span class="s2">"11231231231321"</span><span class="p">,</span>
    <span class="s2">"payTocken"</span><span class="p">:</span><span class="s2">"adasreaxzca"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 支付完成的回调，res中包含有成功与否的信息</span>
    <span class="p">},</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"....."</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>order</td>
<td>订单号</td>
</tr>
<tr>
<td>string</td>
<td>tradeNumber</td>
<td>流水号</td>
</tr>
<tr>
<td>string</td>
<td>payToken</td>
<td>支付token</td>
</tr>
<tr>
<td>string</td>
<td>url</td>
<td>完成后跳转</td>
</tr>
</tbody></table>

<h1 id="基础模块-账户">基础模块-账户</h1>

<h2 id="登录">登录</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'account.login'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 登录完成的回调，res中包含有成功与否的信息</span>
    <span class="p">},</span>
    <span class="c1">// 登录完成后的回调页面</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'...'</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>backurl</td>
<td>完成后的返回地址，默认为当前页面</td>
</tr>
</tbody></table>

<h2 id="登出">登出</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'account.logout'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 登出完成的回调，res中包含有成功与否的信息</span>
    <span class="p">},</span>
    <span class="c1">// 登出完成后的回调页面</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'...'</span>
<span class="p">});</span>
</code></pre>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb</td>
<td>0.3.0+</td>
</tr>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<h3 id="输入：无">输入：无</h3>

<h3 id="输出：">输出：</h3>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>status</td>
<td>返回的状态码， 0：成功</td>
</tr>
<tr>
<td>string</td>
<td>message</td>
<td>错误数据</td>
</tr>
<tr>
<td>string</td>
<td>data</td>
<td>返回数据</td>
</tr>
</tbody></table>

<h1 id="开店宝订制-native接口">开店宝订制-native接口</h1>

<aside class="success">以下接口只在开店宝APP中可用，在开店宝APP中请使用mtnb-merchant。</aside>
<pre class="highlight plaintext"><code>var MTNB = require('mtnb-merchant');
</code></pre>

<h2 id="设置-tab-切换标题">设置 TAB 切换标题</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webviewBasicOperation.setTabPageForTitleViewWithParams'</span><span class="p">,</span>
<span class="p">[{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s1">'title 1'</span><span class="p">,</span>
    <span class="na">checked</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callback</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'title 1 clicked'</span><span class="p">);</span> 
    <span class="p">}</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s1">'title 2'</span><span class="p">,</span>
    <span class="na">checked</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
    <span class="na">callback</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'title 2 clicked'</span><span class="p">);</span> 
    <span class="p">}</span>
<span class="p">}],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">message</span><span class="p">));</span>  
<span class="p">});</span>
</code></pre>

<p>setTabPageForTitleViewWithParams：该接口设置切换的标题以及各标题在被点击后回调的方法</p>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table>
    <tr>
        <th>type</th>
        <th>name</th>
        <th>说明</th>
    </tr>
    <tr>
        <td>array</td>
        <td>data</td>
        <td>
            包含所有TabPage信息的对象数组, 其中每个对象的属性又分别为：
            <table border="1">
                <tr>
                    <td>string</td>
                    <td>name</td>
                    <td>TabPage的名字</td>
                </tr>
                <tr>
                    <td>bool</td>
                    <td>checked</td>
                    <td>该TabPage是否被选中</td>
                </tr>
                <tr>
                    <td>function</td>
                    <td>callback</td>
                    <td>当该tab被点击时，此方法会被调用</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>functoin</td>
        <td>callback</td>
        <td>设置成功后回调</td>
    </tr>
</table>

<h2 id="设置-header-右侧按钮">设置 header 右侧按钮</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webviewBasicOperation.setHeaderActionForRightButtonItem'</span><span class="p">,</span>
<span class="p">{</span>
    <span class="na">type</span> <span class="p">:</span> <span class="s1">'icon_button'</span><span class="p">,</span>  
    <span class="na">content</span> <span class="p">:</span> <span class="s1">'https://avatars3.githubusercontent.com/u/855749?v=3&amp;s=460'</span><span class="p">,</span>  
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">message</span><span class="p">));</span>   
<span class="p">});</span>
</code></pre>

<p>setHeaderActionForRightButtonItem：该接口设置header右侧按钮的种类以及被点击时所执行的相应操作</p>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table>
    <tr>
        <th>type</th>
        <th>name</th>
        <th>说明</th>
    </tr>
    <tr>
        <td>object</td>
        <td>data</td>
        <td>
            header右侧按钮的相关属性
            <table border="1">
                <tr>
                    <td>string</td>
                    <td>type</td>
                    <td>按钮的种类，可选值： text_button（文本），icon_button（图标）</td>
                </tr>
                <tr>
                    <td>string</td>
                    <td>content</td>
                    <td>若按钮的种类为text_button（文本）时，此为纯文本；若按钮的种类为icon_button（图标）时，此为指向 icon 的 url</td>
                </tr>
                <tr>
                    <td>function</td>
                    <td>callback</td>
                    <td>当 header 右侧区域被点击时，此方法会被调用</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>functoin</td>
        <td>callback</td>
        <td>设置成功后回调</td>
    </tr>
</table>

<h2 id="新开webview">新开webview</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webviewBasicOperation.setLoadWebViewWithParams'</span><span class="p">,</span>
<span class="p">{</span>
    <span class="na">url</span> <span class="p">:</span> <span class="s1">'http://i.meituan.com'</span><span class="p">,</span>  
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">message</span><span class="p">));</span>  
<span class="p">});</span>
</code></pre>

<p>setLoadWebViewWithParams：该接口新打开了一个webview并加载了相应的url，类似于在 webview 中实现 target=&ldquo;_blank&rdquo; </p>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table>
    <tr>
        <th>type</th>
        <th>name</th>
        <th>说明</th>
    </tr>
    <tr>
        <td>object</td>
        <td>data</td>
        <td>该对象包括了新打开的webview的各项属性：
            <table border="1">
                <tr>
                    <td>string</td>
                    <td>url</td>
                    <td>新打开 webview 指向的 url</td>
                </tr>
                <tr>
                    <td>function</td>
                    <td>callback</td>
                    <td>当新打开的 webview 关闭时，此方法会被调用</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>functoin</td>
        <td>callback</td>
        <td>设置成功后回调</td>
    </tr>
</table>

<h2 id="扫二维码">扫二维码</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webviewBasicOperation.launchNativeQRReaderPage'</span><span class="p">,</span>
<span class="p">{</span>  
    <span class="na">imageUrl</span> <span class="p">:</span> <span class="s1">'https://avatars3.githubusercontent.com/u/855749?v=3&amp;s=460'</span><span class="p">,</span>  
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">args</span><span class="p">));</span> 
    <span class="p">}</span>
<span class="p">},</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">message</span><span class="p">));</span>
<span class="p">});</span>
</code></pre>

<p>launchNativeQRReaderPage：该接口打开并使用 native 的扫二维码功能</p>

<table><thead>
<tr>
<th>模块/app</th>
<th>版本</th>
</tr>
</thead><tbody>
<tr>
<td>mtnb-merchant</td>
<td>0.2.0+</td>
</tr>
<tr>
<td>开店宝</td>
<td>4.9.0+</td>
</tr>
</tbody></table>

<table>
    <tr>
        <th>type</th>
        <th>name</th>
        <th>说明</th>
    </tr>
    <tr>
        <td>object</td>
        <td>data</td>
        <td>
            与扫二维码功能相关的各项属性：
            <table border="1">
                <tr>
                    <td>string</td>
                    <td>imageUrl</td>
                    <td>在该扫码页底部显示的图片的url</td>
                </tr>
                <tr>
                    <td>function</td>
                    <td>callback</td>
                    <td>当扫码结束，获取到二维码值之后，此方法会被调用，参数为扫码得到的值</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>functoin</td>
        <td>callback</td>
        <td>设置成功后回调</td>
    </tr>
</table>

<h1 id="开店宝订制-js接口">开店宝订制-js接口</h1>

<p>mtnb-merchant中点评开发环境提供的js功能，通过extend方式挂在MTNB对象上。</p>

<p>js接口只生成dom，样式需要额外依赖或者自己实现，请使用符合开店宝视觉规范的UI组件：<a href="http://code.dianpingoa.com/ed-f2e/util-mtshop-m-less-demo/tree/master">开店宝基础样式组件</a>。</p>

<aside class="success">不需要在ready中调用。</aside>

<h2 id="alert">alert</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">alert</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 标题文字</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'message'</span><span class="p">,</span> <span class="c1">// 内容文字</span>
    <span class="na">button</span><span class="p">:</span> <span class="s1">'button'</span><span class="p">,</span> <span class="c1">// 按钮文字</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 用户点击确认</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>弹出类似于window.alert的结构。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">请使用@dp/util-mtshop-m-less</aside></p>

<h2 id="confirm">confirm</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">confirm</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 标题文字</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'message'</span><span class="p">,</span> <span class="c1">// 内容文字</span>
    <span class="na">okButton</span><span class="p">:</span> <span class="s1">'OK'</span><span class="p">,</span> <span class="c1">// 确认按钮文字</span>
    <span class="na">cancelButton</span><span class="p">:</span> <span class="s1">'Cancel'</span><span class="p">,</span> <span class="c1">// 取消按钮文字</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 用户点击确认或取消</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ret</span><span class="p">)</span> <span class="p">{}</span> <span class="c1">// true: 确认 false: 取消</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>弹出类似于window.confirm的结构，有确定和取消的点击回调。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">请使用@dp/util-mtshop-m-less</aside></p>

<h2 id="toast">toast</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">toast</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 文字</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">2000</span> <span class="c1">// 持续时间</span>
<span class="p">});</span>
</code></pre>

<p>弹出一段简短的信息，一定时间后消失。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">请使用@dp/util-mtshop-m-less</aside></p>

<h2 id="tooltip">tooltip</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">tooltip</span><span class="p">({</span>
    <span class="na">targetEl</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.level_func'</span><span class="p">),</span><span class="c1">// zepto object</span>
    <span class="na">placement</span><span class="p">:</span> <span class="s1">'right'</span><span class="p">,</span><span class="c1">// top/right/bottom/left</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'请设置会员等级权益，否则&lt;br&gt;该会员卡无法正式启用'</span><span class="p">,</span> <span class="c1">//可以传入string或者html</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">3000</span> <span class="c1">// 3000ms后自动消失</span>
<span class="p">});</span>
</code></pre>

<p>带箭头的，在指定位置出现的，一定时间后自动消失的提示信息。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">请使用@dp/util-mtshop-m-less</aside></p>

<h2 id="loading">loading</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">loading</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">loading</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
</code></pre>

<h2 id="store">store</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">store</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s2">"key"</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s2">"value"</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 存值成功</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>使用localStorage储值，value必须是字符串。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

<h2 id="retrieve">retrieve</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'key'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>取store的值。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

<h2 id="del">del</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">del</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'key'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// del success</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>删除store的值。
<aside class="success">mtnb-merchant@0.2.0+</aside>
<aside class="success">不需要在ready中调用。</aside>
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
